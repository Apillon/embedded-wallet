"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const p=require("react"),qt=require("react-dom"),ne=require("@headlessui/react"),O=require("./index-Cuj_Ux8p.cjs"),Te=require("ethers"),Ht=require("react-qr-code");function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rt={exports:{}},_=rt.exports={},V,M;function Se(){throw new Error("setTimeout has not been defined")}function Ee(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?V=setTimeout:V=Se}catch{V=Se}try{typeof clearTimeout=="function"?M=clearTimeout:M=Ee}catch{M=Ee}})();function nt(t){if(V===setTimeout)return setTimeout(t,0);if((V===Se||!V)&&setTimeout)return V=setTimeout,setTimeout(t,0);try{return V(t,0)}catch{try{return V.call(null,t,0)}catch{return V.call(this,t,0)}}}function zt(t){if(M===clearTimeout)return clearTimeout(t);if((M===Ee||!M)&&clearTimeout)return M=clearTimeout,clearTimeout(t);try{return M(t)}catch{try{return M.call(null,t)}catch{return M.call(this,t)}}}var B=[],Z=!1,X,pe=-1;function Kt(){!Z||!X||(Z=!1,X.length?B=X.concat(B):pe=-1,B.length&&at())}function at(){if(!Z){var t=nt(Kt);Z=!0;for(var n=B.length;n;){for(X=B,B=[];++pe<n;)X&&X[pe].run();pe=-1,n=B.length}X=null,Z=!1,zt(t)}}_.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)n[a-1]=arguments[a];B.push(new st(t,n)),B.length===1&&!Z&&nt(at)};function st(t,n){this.fun=t,this.array=n}st.prototype.run=function(){this.fun.apply(null,this.array)};_.title="browser";_.browser=!0;_.env={};_.argv=[];_.version="";_.versions={};function Y(){}_.on=Y;_.addListener=Y;_.once=Y;_.off=Y;_.removeListener=Y;_.removeAllListeners=Y;_.emit=Y;_.prependListener=Y;_.prependOnceListener=Y;_.listeners=function(t){return[]};_.binding=function(t){throw new Error("process.binding is not supported")};_.cwd=function(){return"/"};_.chdir=function(t){throw new Error("process.chdir is not supported")};_.umask=function(){return 0};var Xt=rt.exports;const ke=Jt(Xt);var Ce={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et;function Gt(){if(et)return ae;et=1;var t=p,n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,d=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function y(v,c,g){var h,o={},u=null,f=null;g!==void 0&&(u=""+g),c.key!==void 0&&(u=""+c.key),c.ref!==void 0&&(f=c.ref);for(h in c)i.call(c,h)&&!m.hasOwnProperty(h)&&(o[h]=c[h]);if(v&&v.defaultProps)for(h in c=v.defaultProps,c)o[h]===void 0&&(o[h]=c[h]);return{$$typeof:n,type:v,key:u,ref:f,props:o,_owner:d.current}}return ae.Fragment=a,ae.jsx=y,ae.jsxs=y,ae}var se={},tt;function Qt(){return tt||(tt=1,ke.env.NODE_ENV!=="production"&&function(){var t=p,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),b=Symbol.iterator,k="@@iterator";function C(e){if(e===null||typeof e!="object")return null;var s=b&&e[b]||e[k];return typeof s=="function"?s:null}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function E(e){{for(var s=arguments.length,l=new Array(s>1?s-1:0),x=1;x<s;x++)l[x-1]=arguments[x];q("error",e,l)}}function q(e,s,l){{var x=P.ReactDebugCurrentFrame,T=x.getStackAddendum();T!==""&&(s+="%s",l=l.concat([T]));var S=l.map(function(j){return String(j)});S.unshift("Warning: "+s),Function.prototype.apply.call(console[e],console,S)}}var W=!1,H=!1,J=!1,R=!1,mt=!1,_e;_e=Symbol.for("react.module.reference");function yt(e){return!!(typeof e=="string"||typeof e=="function"||e===i||e===m||mt||e===d||e===g||e===h||R||e===f||W||H||J||typeof e=="object"&&e!==null&&(e.$$typeof===u||e.$$typeof===o||e.$$typeof===y||e.$$typeof===v||e.$$typeof===c||e.$$typeof===_e||e.getModuleId!==void 0))}function vt(e,s,l){var x=e.displayName;if(x)return x;var T=s.displayName||s.name||"";return T!==""?l+"("+T+")":l}function Ae(e){return e.displayName||"Context"}function $(e){if(e==null)return null;if(typeof e.tag=="number"&&E("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case i:return"Fragment";case a:return"Portal";case m:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case h:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case v:var s=e;return Ae(s)+".Consumer";case y:var l=e;return Ae(l._context)+".Provider";case c:return vt(e,e.render,"ForwardRef");case o:var x=e.displayName||null;return x!==null?x:$(e.type)||"Memo";case u:{var T=e,S=T._payload,j=T._init;try{return $(j(S))}catch{return null}}}return null}var z=Object.assign,ee=0,Oe,Ie,Pe,Fe,We,De,Le;function Ue(){}Ue.__reactDisabledLog=!0;function xt(){{if(ee===0){Oe=console.log,Ie=console.info,Pe=console.warn,Fe=console.error,We=console.group,De=console.groupCollapsed,Le=console.groupEnd;var e={configurable:!0,enumerable:!0,value:Ue,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}ee++}}function gt(){{if(ee--,ee===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:z({},e,{value:Oe}),info:z({},e,{value:Ie}),warn:z({},e,{value:Pe}),error:z({},e,{value:Fe}),group:z({},e,{value:We}),groupCollapsed:z({},e,{value:De}),groupEnd:z({},e,{value:Le})})}ee<0&&E("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var he=P.ReactCurrentDispatcher,me;function le(e,s,l){{if(me===void 0)try{throw Error()}catch(T){var x=T.stack.trim().match(/\n( *(at )?)/);me=x&&x[1]||""}return`
`+me+e}}var ye=!1,ce;{var bt=typeof WeakMap=="function"?WeakMap:Map;ce=new bt}function $e(e,s){if(!e||ye)return"";{var l=ce.get(e);if(l!==void 0)return l}var x;ye=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var S;S=he.current,he.current=null,xt();try{if(s){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(D){x=D}Reflect.construct(e,[],j)}else{try{j.call()}catch(D){x=D}e.call(j.prototype)}}else{try{throw Error()}catch(D){x=D}e()}}catch(D){if(D&&x&&typeof D.stack=="string"){for(var w=D.stack.split(`
`),F=x.stack.split(`
`),N=w.length-1,A=F.length-1;N>=1&&A>=0&&w[N]!==F[A];)A--;for(;N>=1&&A>=0;N--,A--)if(w[N]!==F[A]){if(N!==1||A!==1)do if(N--,A--,A<0||w[N]!==F[A]){var U=`
`+w[N].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),typeof e=="function"&&ce.set(e,U),U}while(N>=1&&A>=0);break}}}finally{ye=!1,he.current=S,gt(),Error.prepareStackTrace=T}var Q=e?e.displayName||e.name:"",K=Q?le(Q):"";return typeof e=="function"&&ce.set(e,K),K}function wt(e,s,l){return $e(e,!1)}function jt(e){var s=e.prototype;return!!(s&&s.isReactComponent)}function ue(e,s,l){if(e==null)return"";if(typeof e=="function")return $e(e,jt(e));if(typeof e=="string")return le(e);switch(e){case g:return le("Suspense");case h:return le("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case c:return wt(e.render);case o:return ue(e.type,s,l);case u:{var x=e,T=x._payload,S=x._init;try{return ue(S(T),s,l)}catch{}}}return""}var te=Object.prototype.hasOwnProperty,Ve={},Me=P.ReactDebugCurrentFrame;function de(e){if(e){var s=e._owner,l=ue(e.type,e._source,s?s.type:null);Me.setExtraStackFrame(l)}else Me.setExtraStackFrame(null)}function Tt(e,s,l,x,T){{var S=Function.call.bind(te);for(var j in e)if(S(e,j)){var w=void 0;try{if(typeof e[j]!="function"){var F=Error((x||"React class")+": "+l+" type `"+j+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[j]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw F.name="Invariant Violation",F}w=e[j](s,j,x,l,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(N){w=N}w&&!(w instanceof Error)&&(de(T),E("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",x||"React class",l,j,typeof w),de(null)),w instanceof Error&&!(w.message in Ve)&&(Ve[w.message]=!0,de(T),E("Failed %s type: %s",l,w.message),de(null))}}}var St=Array.isArray;function ve(e){return St(e)}function Et(e){{var s=typeof Symbol=="function"&&Symbol.toStringTag,l=s&&e[Symbol.toStringTag]||e.constructor.name||"Object";return l}}function Ct(e){try{return Be(e),!1}catch{return!0}}function Be(e){return""+e}function Ye(e){if(Ct(e))return E("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Et(e)),Be(e)}var re=P.ReactCurrentOwner,kt={key:!0,ref:!0,__self:!0,__source:!0},qe,He,xe;xe={};function Rt(e){if(te.call(e,"ref")){var s=Object.getOwnPropertyDescriptor(e,"ref").get;if(s&&s.isReactWarning)return!1}return e.ref!==void 0}function Nt(e){if(te.call(e,"key")){var s=Object.getOwnPropertyDescriptor(e,"key").get;if(s&&s.isReactWarning)return!1}return e.key!==void 0}function _t(e,s){if(typeof e.ref=="string"&&re.current&&s&&re.current.stateNode!==s){var l=$(re.current.type);xe[l]||(E('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',$(re.current.type),e.ref),xe[l]=!0)}}function At(e,s){{var l=function(){qe||(qe=!0,E("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",s))};l.isReactWarning=!0,Object.defineProperty(e,"key",{get:l,configurable:!0})}}function Ot(e,s){{var l=function(){He||(He=!0,E("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",s))};l.isReactWarning=!0,Object.defineProperty(e,"ref",{get:l,configurable:!0})}}var It=function(e,s,l,x,T,S,j){var w={$$typeof:n,type:e,key:s,ref:l,props:j,_owner:S};return w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(w,"_self",{configurable:!1,enumerable:!1,writable:!1,value:x}),Object.defineProperty(w,"_source",{configurable:!1,enumerable:!1,writable:!1,value:T}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w};function Pt(e,s,l,x,T){{var S,j={},w=null,F=null;l!==void 0&&(Ye(l),w=""+l),Nt(s)&&(Ye(s.key),w=""+s.key),Rt(s)&&(F=s.ref,_t(s,T));for(S in s)te.call(s,S)&&!kt.hasOwnProperty(S)&&(j[S]=s[S]);if(e&&e.defaultProps){var N=e.defaultProps;for(S in N)j[S]===void 0&&(j[S]=N[S])}if(w||F){var A=typeof e=="function"?e.displayName||e.name||"Unknown":e;w&&At(j,A),F&&Ot(j,A)}return It(e,w,F,T,x,re.current,j)}}var ge=P.ReactCurrentOwner,Je=P.ReactDebugCurrentFrame;function G(e){if(e){var s=e._owner,l=ue(e.type,e._source,s?s.type:null);Je.setExtraStackFrame(l)}else Je.setExtraStackFrame(null)}var be;be=!1;function we(e){return typeof e=="object"&&e!==null&&e.$$typeof===n}function ze(){{if(ge.current){var e=$(ge.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}}function Ft(e){return""}var Ke={};function Wt(e){{var s=ze();if(!s){var l=typeof e=="string"?e:e.displayName||e.name;l&&(s=`

Check the top-level render call using <`+l+">.")}return s}}function Xe(e,s){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var l=Wt(s);if(Ke[l])return;Ke[l]=!0;var x="";e&&e._owner&&e._owner!==ge.current&&(x=" It was passed a child from "+$(e._owner.type)+"."),G(e),E('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',l,x),G(null)}}function Ge(e,s){{if(typeof e!="object")return;if(ve(e))for(var l=0;l<e.length;l++){var x=e[l];we(x)&&Xe(x,s)}else if(we(e))e._store&&(e._store.validated=!0);else if(e){var T=C(e);if(typeof T=="function"&&T!==e.entries)for(var S=T.call(e),j;!(j=S.next()).done;)we(j.value)&&Xe(j.value,s)}}}function Dt(e){{var s=e.type;if(s==null||typeof s=="string")return;var l;if(typeof s=="function")l=s.propTypes;else if(typeof s=="object"&&(s.$$typeof===c||s.$$typeof===o))l=s.propTypes;else return;if(l){var x=$(s);Tt(l,e.props,"prop",x,e)}else if(s.PropTypes!==void 0&&!be){be=!0;var T=$(s);E("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",T||"Unknown")}typeof s.getDefaultProps=="function"&&!s.getDefaultProps.isReactClassApproved&&E("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Lt(e){{for(var s=Object.keys(e.props),l=0;l<s.length;l++){var x=s[l];if(x!=="children"&&x!=="key"){G(e),E("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",x),G(null);break}}e.ref!==null&&(G(e),E("Invalid attribute `ref` supplied to `React.Fragment`."),G(null))}}var Qe={};function Ze(e,s,l,x,T,S){{var j=yt(e);if(!j){var w="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(w+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var F=Ft();F?w+=F:w+=ze();var N;e===null?N="null":ve(e)?N="array":e!==void 0&&e.$$typeof===n?(N="<"+($(e.type)||"Unknown")+" />",w=" Did you accidentally export a JSX literal instead of a component?"):N=typeof e,E("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",N,w)}var A=Pt(e,s,l,T,S);if(A==null)return A;if(j){var U=s.children;if(U!==void 0)if(x)if(ve(U)){for(var Q=0;Q<U.length;Q++)Ge(U[Q],e);Object.freeze&&Object.freeze(U)}else E("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ge(U,e)}if(te.call(s,"key")){var K=$(e),D=Object.keys(s).filter(function(Yt){return Yt!=="key"}),je=D.length>0?"{key: someKey, "+D.join(": ..., ")+": ...}":"{key: someKey}";if(!Qe[K+je]){var Bt=D.length>0?"{"+D.join(": ..., ")+": ...}":"{}";E(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,je,K,Bt,K),Qe[K+je]=!0}}return e===i?Lt(A):Dt(A),A}}function Ut(e,s,l){return Ze(e,s,l,!0)}function $t(e,s,l){return Ze(e,s,l,!1)}var Vt=$t,Mt=Ut;se.Fragment=i,se.jsx=Vt,se.jsxs=Mt}()),se}ke.env.NODE_ENV==="production"?Ce.exports=Gt():Ce.exports=Qt();var r=Ce.exports,ie={},oe=qt;if(ke.env.NODE_ENV==="production")ie.createRoot=oe.createRoot,ie.hydrateRoot=oe.hydrateRoot;else{var fe=oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ie.createRoot=function(t,n){fe.usingClientEntryPoint=!0;try{return oe.createRoot(t,n)}finally{fe.usingClientEntryPoint=!1}},ie.hydrateRoot=function(t,n,a){fe.usingClientEntryPoint=!0;try{return oe.hydrateRoot(t,n,a)}finally{fe.usingClientEntryPoint=!1}}}const ot=(t=0)=>({username:"",address:"",contractAddress:"",balance:"",authStrategy:"passkey",networkId:t,walletScreen:"main",displayedError:""});function Zt(t,n){switch(n.type){case"setValue":return{...t,[n.payload.key]:n.payload.value};case"setState":return{...t,...n.payload};case"reset":return ot(t.networkId);default:throw new Error("Unhandled action type."+JSON.stringify(n))}}const it=p.createContext(void 0);function er({children:t,networks:n=[],defaultNetworkId:a=0,...i}){const[d,m]=p.useReducer(Zt,ot(a)),[y,v]=p.useState(!1),[c,g]=p.useState();p.useEffect(()=>{if(y){const{walletScreen:o,displayedError:u,...f}=d;localStorage.setItem(O.WebStorageKeys.WALLET_CONTEXT,JSON.stringify(f))}},[d]),p.useEffect(()=>{const o=localStorage.getItem(O.WebStorageKeys.WALLET_CONTEXT);if(o)try{const u=JSON.parse(o);m({type:"setState",payload:u})}catch(u){console.error("Cant parse global state localStorage",u)}setTimeout(()=>v(!0),10)},[]),p.useEffect(()=>{if(y&&!c){let o;n&&n.length?o=O.initializeOnWindow({...i,defaultNetworkId:d.networkId||a,networkConfig:n.reduce((u,f)=>(u[f.id]={rpcUrl:f.rpcUrl,explorerUrl:f.explorerUrl},u),{})}):o=O.initializeOnWindow(),o&&(g(o),h(o),o.setAccount({username:d.username,strategy:d.authStrategy,address:d.address,contractAddress:d.contractAddress}))}},[n,a,y]);async function h(o){const u=o||c;if(u&&d.address)try{const f=await u?.getAccountBalance(d.address);m({type:"setValue",payload:{key:"balance",value:f}}),console.log("Native Oasis Sapphire balance:",await u.getAccountBalance(d.address,23295))}catch(f){console.error("Reloading balance",f)}}return r.jsx(it.Provider,{value:{state:d,dispatch:m,networks:n,networksById:n.reduce((o,u)=>(o[u.id]=u,o),{}),defaultNetworkId:a||0,wallet:c,setWallet:g,reloadUserBalance:h,setScreen:o=>m({type:"setValue",payload:{key:"walletScreen",value:o}}),handleError:o=>{o?(console.error(o),(o?.name||o?.message)&&m({type:"setValue",payload:{key:"displayedError",value:O.ErrorMessages[o.name]||o.message}})):m({type:"setValue",payload:{key:"displayedError",value:""}})}},children:t})}function L(){const t=p.useContext(it);if(t===void 0)throw new Error("useWalletContext usage must be wrapped with WalletContext provider.");return t}function lt(t){var n,a,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var d=t.length;for(n=0;n<d;n++)t[n]&&(a=lt(t[n]))&&(i&&(i+=" "),i+=a)}else for(a in t)t[a]&&(i&&(i+=" "),i+=a);return i}function Re(){for(var t,n,a=0,i="",d=arguments.length;a<d;a++)(t=arguments[a])&&(n=lt(t))&&(i&&(i+=" "),i+=n);return i}function tr({size:t=36,width:n=2,color:a="currentColor",className:i}){return r.jsx("svg",{style:{margin:`-${t/2}px 0 0 -${t/2}px`,width:`${t}px`,height:`${t}px`,animation:"rotate 2s linear infinite",zIndex:2,position:"absolute",top:"50%",left:"50%"},viewBox:"0 0 50 50",className:i,children:r.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:a,strokeWidth:n,style:{strokeDasharray:"8, 10",animation:"dash 8s ease-in-out infinite"}})})}const rr="160px",nr="40px",ar="px-4 py-2.5",I=p.forwardRef(({blank:t=!1,self:n=!1,variant:a="primary",minWidth:i=rr,minHeight:d=nr,paddingClass:m=ar,disabled:y=!1,loading:v=!1,type:c="button",className:g,...h},o)=>{const u=Re(m,g,"relative inline-block rounded-lg text-sm font-bold border-b-[4px] border-t-[4px]",{"transition-all hover:border-b-blue/50 hover:translate-y-[-2px] focus:translate-y-px focus:border-b-yellow/50":!v&&!y,"bg-yellow text-dark border-b-yellow border-t-yellow":a==="primary","bg-lightdark text-offwhite border-b-lightdark border-t-lightdark":a==="secondary","opacity-60":y}),f={minWidth:i,minHeight:d},b=r.jsxs(r.Fragment,{children:[!!v&&r.jsxs(r.Fragment,{children:[" ",r.jsx(tr,{color:"#141721"})]})," ",!v&&h.children]});return(t||n)&&typeof h.href=="string"?r.jsx("a",{ref:o,href:h.href,target:t?"_blank":"_self",rel:"noreferrer",title:h.title,className:u,style:f,onClick:h.onClick,children:b}):r.jsx("button",{ref:o,type:c,disabled:v||y,className:u,style:f,...h,children:b})});I.displayName="Btn";function sr(){const{dispatch:t,defaultNetworkId:n,handleError:a}=L(),[i,d]=p.useState(""),[m,y]=p.useState(!1),[v,c]=p.useState(!1);async function g(o){if(o.preventDefault(),!i)return;const u=O.getOasisAppWallet();y(!0),a();try{if(await u?.userExists(i)){const f=await u?.authenticate("passkey",{username:i});f&&h({username:i,address:f.publicAddress,authStrategy:"passkey"})}else c(!0)}catch(f){a(f)}y(!1)}async function h({username:o,address:u,authStrategy:f}){const k=await O.getOasisAppWallet()?.getAccountBalance(u)||"0";t({type:"setState",payload:{address:u,username:o,balance:k,authStrategy:f,networkId:n||void 0}})}return v?r.jsx(or,{loading:m,onConfirm:async()=>{y(!0),a();try{const u=await O.getOasisAppWallet()?.register("passkey",{username:i});u&&h({username:i,address:u.publicAddress,authStrategy:"passkey"})}catch(o){a(o)}y(!1)}}):r.jsxs("div",{children:[r.jsx("h2",{className:"mb-6",children:"Sign in or Sign up"}),r.jsxs("form",{onSubmit:o=>g(o),children:[r.jsx("input",{placeholder:"your e-mail@email.com",value:i,className:"w-full mb-8",onChange:o=>d(o.target.value)}),r.jsx(I,{type:"submit",loading:m,className:"w-full",children:"Continue"})]})]})}function or({loading:t,onConfirm:n,onLoading:a}){const{handleError:i}=L(),[d,m]=p.useState(""),[y,v]=p.useState(!1),c=[p.useRef(null),p.useRef(null),p.useRef(null),p.useRef(null),p.useRef(null),p.useRef(null)];p.useEffect(()=>{d.length===6&&!/\s/.test(d)&&g()},[d]);async function g(){a?.(!0),i();try{console.log(d),await new Promise(f=>setTimeout(f,1337)),v(!0),n?.(d)}catch(f){i(f),a?.(!1)}}function h(f,b){const k=f.target;if(/^[^\d]$/.test(k.value)){k.value="";return}const C=c[b-1],P=c[b+1],E=c.map((q,W)=>d[W]||" ");E[b]=k.value,m(E.join("")),k.select(),k.value===""?C?.current&&C.current.focus():P?.current&&P.current.select()}function o(f,b){const k=f.target,C=c[b-1];(f.key==="Backspace"||f.key==="Delete")&&k.value===""&&(f.preventDefault(),m(P=>P.slice(0,b)+" "+P.slice(b+1)),C?.current&&C.current.focus())}function u(f){const b=f.clipboardData.getData("text");b.length===6&&(m(b),c.forEach((k,C)=>{k?.current&&(k.current.value=b.charAt(C))}))}return y?r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"mb-12",children:"Email succesfully confirmed."}),r.jsx("p",{className:"text-xl mb-12",children:"Passkey configuration will now start."}),r.jsx(I,{loading:t,onClick:()=>n?.(d),children:"Retry"})]}):r.jsxs("div",{className:"text-center",children:[r.jsx("p",{children:"We just sent a confirmation code to your email. Paste the code below to proceed with account creation."}),r.jsx("h2",{className:"my-6",children:"Check your email"}),r.jsx("p",{className:"mb-6",children:"Enter the 6-digit code you received"}),r.jsx("div",{className:"flex gap-2 mb-12 justify-center",children:[0,1,2,3,4,5].map(f=>r.jsx("input",{ref:c[f],type:"text",maxLength:1,autoFocus:f===0,disabled:t,className:"min-w-0 w-14 h-14",onFocus:b=>b.target.select(),onKeyDown:b=>o(b,f),onPaste:b=>u(b),onChange:b=>h(b,f)},f))}),r.jsx(I,{disabled:t,children:"Send again"})]})}function ct(t){return!t||t.length<=10?t:`${t.slice(0,6)}...${t.slice(-4)}`}function ir(){const{state:t,dispatch:n,networks:a,wallet:i,reloadUserBalance:d,setScreen:m}=L();if(!Array.isArray(a)||!a.length)return r.jsx(r.Fragment,{});function y(v){n({type:"setValue",payload:{key:"networkId",value:v}}),i?.setDefaultNetworkId(v),d(),m("main")}return r.jsxs("div",{children:[r.jsx("h2",{className:"mb-4",children:"Select network"}),r.jsx("div",{className:"flex flex-col gap-3",children:a.map(v=>r.jsx(I,{variant:"secondary",disabled:v.id===t.networkId,onClick:()=>y(v.id),children:v.name},v.id))})]})}const lr=()=>({txs:{},pending:[],chainIdsForHash:{}});function cr(t,n){switch(n.type){case"setState":return{...t,...n.payload};case"addTx":return{...t,txs:{...t.txs,[n.payload.owner]:{...t.txs[n.payload.owner],[n.payload.hash]:n.payload}},chainIdsForHash:{...t.chainIdsForHash,[n.payload.hash]:n.payload.chainId}};case"setTxStatus":return{...t,txs:{...t.txs,[n.payload.tx.owner]:{...t.txs[n.payload.tx.owner],[n.payload.tx.hash]:{...t.txs[n.payload.tx.owner][n.payload.tx.hash],status:n.payload.status}}},pending:n.payload.status==="pending"?[...new Set([...t.pending,n.payload.tx.hash])]:t.pending.filter(a=>a!==n.payload.tx.hash),chainIdsForHash:n.payload.status==="pending"?{...t.chainIdsForHash,[n.payload.tx.hash]:n.payload.tx.chainId}:Object.keys(t.chainIdsForHash).reduce((a,i)=>(i!==n.payload.tx.hash&&(a[i]=n.payload.tx.chainId),a),{})};default:throw new Error("Unhandled action type."+JSON.stringify(n))}}const ut=p.createContext(void 0);function ur({children:t}){const[n,a]=p.useReducer(cr,lr()),[i,d]=p.useState(!1),{state:{address:m},reloadUserBalance:y}=L();p.useEffect(()=>{if(i){const{pending:c,chainIdsForHash:g,...h}=n;localStorage.setItem(O.WebStorageKeys.TRANSACTIONS_CONTEXT,JSON.stringify(h))}},[n]),p.useEffect(()=>{const c=localStorage.getItem(O.WebStorageKeys.TRANSACTIONS_CONTEXT);if(c)try{const g=JSON.parse(c);a({type:"setState",payload:g})}catch(g){console.error("Cant parse context state localStorage",g)}setTimeout(()=>{d(!0)},100)},[]),p.useEffect(()=>{if(m&&n.txs[m]&&Object.keys(n.txs[m]).length)for(const c of Object.keys(n.txs[m]))v(c)},[m,n.txs]);async function v(c){if(!m)return;const g=O.getOasisAppWallet();if(!g)throw new Error("Wallet not initialized."+c);const h=g.getRpcProviderForChainId(n.chainIdsForHash[c]);if(!h)throw new Error("Provider not initialized. "+c);const o=n.txs[m]?.[c];if(!o||o.status==="confirmed"||o.status==="failed"||n.pending.includes(c))return;if(Date.now()-o.createdAt>15e3&&!await h.getTransaction(c)){a({type:"setTxStatus",payload:{tx:o,status:"failed"}});return}const u=await h.getTransactionReceipt(c);u?(u.status?a({type:"setTxStatus",payload:{tx:o,status:"confirmed"}}):a({type:"setTxStatus",payload:{tx:o,status:"failed"}}),y(),g.events.emit("txDone",o)):(a({type:"setTxStatus",payload:{tx:o,status:"pending"}}),h.once(c,f=>{const b=f&&!isNaN(f.status)&&f.status===0;y(),a({type:"setTxStatus",payload:{tx:o,status:b?"failed":"confirmed"}}),g.events.emit("txDone",o)}))}return r.jsx(ut.Provider,{value:{state:n,dispatch:a,checkTransaction:v},children:t})}function dt(){const t=p.useContext(ut);if(t===void 0)throw new Error("useTransactionsContext usage must be wrapped with TransactionsContext provider.");return t}function Ne(t="Copy",n="Copied!"){const[a,i]=p.useState(t);let d=null;function m(y){navigator.clipboard.writeText(y),d&&clearTimeout(d),i(n),d=setTimeout(()=>i(t),2e3)}return{text:a,onCopy:m}}function dr(){const{state:{address:t}}=L(),{state:n}=dt();return!t||!n.txs[t]?r.jsx(r.Fragment,{}):r.jsx("div",{children:r.jsx("div",{className:"flex flex-col gap-1 max-h-[134px] overflow-auto pr-2",children:Object.values(n.txs[t]).sort((a,i)=>(i.createdAt||0)-(a.createdAt||0)).map(a=>r.jsx(fr,{tx:a},a.hash))})})}function fr({tx:t}){const{text:n,onCopy:a}=Ne();return r.jsxs("div",{className:"rounded-md bg-offwhite/5 px-2 py-1",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-bold text-sm",children:r.jsxs("a",{href:t.explorerUrl||"#",target:"_blank",title:"View on explorer",children:[t.label,"  ↗"]})}),r.jsx("span",{className:Re("text-sm",{"text-[#FF6188]":t.status==="failed","text-[#A9DC76]":t.status==="confirmed","text-[#F7AF39]":t.status==="pending"}),children:t.status})]}),r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsxs("span",{className:"text-sm",children:[ct(t.hash)," ",r.jsx("button",{className:"text-xs",onClick:()=>a(t.hash),children:n})]}),r.jsx("span",{className:"text-xs",children:new Date(t.createdAt).toISOString().slice(0,-5).replace("T"," ")})]})]})}const pr=()=>({list:{},selectedToken:""});function hr(t,n){switch(n.type){case"setState":return{...t,...n.payload};case"setValue":return{...t,[n.payload.key]:n.payload.value};case"updateToken":{const a=[...t.list[n.payload.owner]||[]],i=a.findIndex(d=>d.address===n.payload.token.address);return i<0?a.push(n.payload.token):a[i]=n.payload.token,{...t,list:{...t.list,[n.payload.owner]:a}}}default:throw new Error("Unhandled action type."+JSON.stringify(n))}}const ft=p.createContext(void 0);function mr({children:t}){const[n,a]=p.useReducer(hr,pr()),[i,d]=p.useState(!1),{state:m,wallet:y}=L();p.useEffect(()=>{i&&localStorage.setItem(O.WebStorageKeys.TOKENS_CONTEXT,JSON.stringify(n))},[n]),p.useEffect(()=>{const c=localStorage.getItem(O.WebStorageKeys.TOKENS_CONTEXT);if(c)try{const g=JSON.parse(c);a({type:"setState",payload:g}),Array.isArray(g?.list?.[m.address])&&g.list[m.address].forEach(async h=>{if(y){const o=await y.contractRead({contractAddress:h.address,contractAbi:O.ERC20Abi,contractFunctionName:"balanceOf",contractFunctionValues:[m.address]});o&&a({type:"updateToken",payload:{owner:m.address,token:{...h,balance:Te.ethers.formatUnits(o,h.decimals)}}})}})}catch(g){console.error("Cant parse context state localStorage",g)}setTimeout(()=>{d(!0)},100)},[]);async function v(c){if(y){const[g,h,o,u]=await Promise.all([y.contractRead({contractAddress:c,contractAbi:O.ERC20Abi,contractFunctionName:"name"}),y.contractRead({contractAddress:c,contractAbi:O.ERC20Abi,contractFunctionName:"symbol"}),y.contractRead({contractAddress:c,contractAbi:O.ERC20Abi,contractFunctionName:"decimals"}),y.contractRead({contractAddress:c,contractAbi:O.ERC20Abi,contractFunctionName:"balanceOf",contractFunctionValues:[m.address]})]);if(h)return{address:c,name:g,symbol:h,decimals:Number(o),balance:Te.ethers.formatUnits(u,o)}}}return r.jsx(ft.Provider,{value:{state:n,dispatch:a,getTokenDetails:v},children:t})}function pt(){const t=p.useContext(ft);if(t===void 0)throw new Error("useTokensContext usage must be wrapped with TokensContext provider.");return t}function yr(){const{state:t,networksById:n,setScreen:a,wallet:i,handleError:d}=L(),{state:m}=pt(),[y,v]=p.useState(""),[c,g]=p.useState(""),[h,o]=p.useState(!1),u=p.useMemo(()=>({address:"",name:`${n[t.networkId].name} ETH`,symbol:"ETH",decimals:18,balance:t.balance}),[t.balance,t.networkId]),f=p.useMemo(()=>{if(m.selectedToken){const b=m.list[t.address];if(b){const k=b.find(C=>C.address===m.selectedToken);if(k)return k}}return u},[m.selectedToken,m.list]);return t.walletScreen==="selectToken"?r.jsx(vr,{nativeToken:u}):t.walletScreen==="receiveToken"?r.jsx(xr,{}):r.jsxs("form",{onSubmit:async b=>{if(b.preventDefault(),!h){if(!y||!c){console.error("Address and amount are required");return}if(!i){console.error("Wallet not initialized");return}o(!0),d();try{await i.signContractWrite({mustConfirm:!0,contractAbi:O.ERC20Abi,contractAddress:f.address,contractFunctionName:"transfer",contractFunctionValues:[y,Te.ethers.parseUnits(c,f.decimals)]})}catch(k){d(k)}o(!1)}},children:[r.jsx("h2",{className:"mb-8",children:"Send tokens to address"}),r.jsxs(I,{variant:"secondary",className:"mb-4 w-full text-left",onClick:()=>a("selectToken"),children:["Token: ",f.name,r.jsx("br",{}),r.jsxs("span",{className:"font-normal",children:["Balance: ",f.balance," ",f.symbol]})]}),r.jsx("input",{placeholder:"Receiver address",value:y,className:"w-full mb-4",onChange:b=>v(b.target.value)}),r.jsx("input",{placeholder:"Amount",value:c,className:"w-full mb-8",onChange:b=>g(b.target.value)}),r.jsx(I,{type:"submit",className:"w-full",children:"Send"})]})}function vr({nativeToken:t}){const{state:n,setScreen:a,handleError:i}=L(),{state:d,dispatch:m,getTokenDetails:y}=pt(),[v,c]=p.useState(""),[g,h]=p.useState(!1),o=p.useMemo(()=>Array.isArray(d.list[n.address])?[t,...d.list[n.address]]:[t],[d.list]);return r.jsxs("div",{children:[r.jsx("h2",{className:"mb-4",children:"Add token"}),r.jsxs("form",{className:"mb-8",onSubmit:async u=>{if(u.preventDefault(),!g){if(!v){console.error("No address");return}h(!0),i();try{const f=await y(v);if(!f)throw new Error("Could not get token details");m({type:"updateToken",payload:{owner:n.address,token:f}})}catch(f){i(f)}h(!1)}},children:[r.jsx("input",{placeholder:"Token address",value:v,className:"w-full mb-4",onChange:u=>c(u.target.value)}),r.jsx(I,{type:"submit",loading:g,className:"w-full",children:"Add"})]}),r.jsx("h2",{className:"mb-4",children:"Select token"}),r.jsx("div",{className:"flex flex-col gap-3",children:o.map(u=>r.jsxs(I,{variant:"secondary",disabled:u.address===d.selectedToken,className:"w-full text-left",onClick:()=>{m({type:"setValue",payload:{key:"selectedToken",value:u.address}}),a("sendToken")},children:["Token: ",u.name,r.jsx("br",{}),r.jsxs("span",{className:"font-normal",children:["Balance: ",u.balance," ",u.symbol]})]},u.address))})]})}function xr(){const{state:t}=L(),{text:n,onCopy:a}=Ne();return t.address?r.jsxs("div",{children:[r.jsx("div",{className:"p-4 mb-4",children:r.jsx(Ht,{value:`ethereum:${t.address}`,size:256,style:{height:"auto",maxWidth:"100%",width:"256px",margin:"0 auto"},viewBox:"0 0 256 256"})}),r.jsx("input",{readOnly:!0,value:t.address,className:"w-full mb-4"}),r.jsx(I,{className:"w-full",onClick:()=>a(t.address),children:n})]}):r.jsx(r.Fragment,{})}function ht({text:t,show:n,className:a}){const{state:i,handleError:d}=L();return!i.displayedError&&!t||!n?r.jsx(r.Fragment,{}):r.jsxs("div",{className:Re("flex gap-2 justify-between items-start py-2 pl-3 pr-2 break-all text-sm text-white bg-red/75 rounded-md",a),children:[i.displayedError||t||"",r.jsx("button",{title:"Dismiss",className:"text-offwhite hover:text-white -mt-0.5 shrink-0",onClick:()=>d(),children:r.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10.6569L6.34317 5L4.92896 6.41421L10.5858 12.0711L4.92898 17.7279L6.3432 19.1421L12 13.4853L17.6569 19.1421L19.0711 17.7279L13.4143 12.0711L19.0711 6.41421L17.6569 5L12 10.6569Z",fill:"currentColor"})})})]})}function gr(){const{state:t,dispatch:n,networksById:a,setScreen:i}=L(),d=p.useMemo(()=>t.walletScreen==="main"?{key:"networks",label:"Change"}:t.walletScreen==="selectToken"?{key:"sendToken",label:"Back"}:{key:"main",label:"Back"},[t.walletScreen]);return r.jsxs("div",{children:[r.jsx("div",{className:"text-center -mt-4 sm:-mt-8 mb-4",children:r.jsxs("div",{className:"inline-block",children:[r.jsx("p",{children:t.networkId&&a[t.networkId]?a[t.networkId].name:"No network"}),r.jsx("p",{children:r.jsx("button",{className:"text-sm",onClick:()=>i(d.key),children:d.label})})]})}),r.jsx(ht,{show:!0,className:"mb-2"}),t.walletScreen==="main"&&r.jsxs("div",{children:[r.jsx(br,{className:"mb-6"}),r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsx(I,{minWidth:"0",className:"w-full",onClick:()=>i("sendToken"),children:"Send"}),r.jsx(I,{minWidth:"0",className:"w-full",onClick:()=>i("receiveToken"),children:"Receive"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"mb-2",children:"Transactions"}),r.jsx(dr,{})]}),r.jsx(I,{variant:"secondary",className:"w-full",onClick:()=>n({type:"reset"}),children:"Disconnect wallet"})]}),t.walletScreen==="networks"&&r.jsx("div",{children:r.jsx(ir,{})}),["sendToken","selectToken","receiveToken"].includes(t.walletScreen)&&r.jsx("div",{children:r.jsx(mr,{children:r.jsx(yr,{})})})]})}function br({className:t}){const{state:n}=L(),{text:a,onCopy:i}=Ne();return r.jsxs("div",{className:t,children:[r.jsxs("h2",{className:"break-all mb-1",children:["Hi, ",n.username]}),r.jsxs("p",{title:n.address,className:"text-xl",children:[r.jsx("span",{className:"mr-2",children:ct(n.address)}),r.jsx("button",{className:"text-sm",onClick:()=>i(n.address),children:a})]}),r.jsxs("p",{children:[n.balance," ETH"]})]})}function wr({tx:t,signMessage:n,contractFunctionData:a,approveText:i="Approve",declineText:d="Reject",onApprove:m,onDecline:y}){const{networksById:v}=L(),[c,g]=p.useState(!1),h="bg-offwhite/25 p-3 whitespace-pre-wrap break-all rounded-sm";return r.jsxs(r.Fragment,{children:[!!n&&r.jsxs("div",{children:[r.jsx("h2",{className:"mb-6",children:"Sign Message"}),r.jsxs("p",{children:["You are signing:",r.jsx("br",{}),n]})]}),!!t&&r.jsxs("div",{children:[r.jsx("h2",{className:"mb-6",children:"Approve Transaction"}),r.jsx("pre",{className:h,children:JSON.stringify(t,(o,u)=>typeof u=="bigint"?u.toString():u,2)})]}),!!a&&r.jsxs("div",{children:[r.jsx("h2",{className:"mb-6",children:"Approve Contract Transaction"}),!!a.chainId&&!!v[a.chainId]&&r.jsxs("p",{children:["Chain: ",v[a.chainId].name]}),r.jsxs("p",{className:"my-3 break-all",children:["Contract address: ",a.contractAddress]}),r.jsxs("p",{className:"my-3 break-all",children:["Contract function: ",a.contractFunctionName]}),r.jsx("div",{className:"my-3",children:r.jsx("pre",{className:h,children:JSON.stringify(a.contractFunctionValues,(o,u)=>typeof u=="bigint"?u.toString():u,2)})})]}),r.jsx(ht,{show:!0,className:"mt-6 -mb-6"}),r.jsxs("div",{className:"mt-12 flex gap-4",children:[r.jsx(I,{loading:c,className:"w-full",onClick:async()=>{g(!0),await m(),g(!1)},children:i}),r.jsx(I,{variant:"secondary",disabled:c,className:"w-full",onClick:y,children:d})]})]})}function jr({disableAutoBroadcastAfterSign:t=!1}){const{state:n,wallet:a,setScreen:i,handleError:d}=L(),{dispatch:m}=dt(),[y,v]=p.useState(!1),[c,g]=p.useState(),[h,o]=p.useState(),[u,f]=p.useState(""),[b,k]=p.useState({title:"",txHash:"",explorerUrl:""}),C=p.useRef(),P=n.username&&n.address;p.useEffect(()=>{const W=R=>{R.plain?(g(R.plain?.tx),C.current=R,v(!0)):R.contractWrite&&(o({chainId:R.contractWrite.chainId,contractAddress:R.contractWrite.contractAddress,contractFunctionName:R.contractWrite.contractFunctionName,contractFunctionValues:R.contractWrite.contractFunctionValues}),C.current=R,v(!0))},H=R=>{f(R.message),C.current={signature:R},v(!0)},J=R=>{m({type:"addTx",payload:R})};return a&&(a.events.on("txApprove",W),a.events.on("signatureRequest",H),a.events.on("txSubmitted",J)),()=>{a&&(a.events.off("txApprove",W),a.events.off("signatureRequest",H),a.events.off("txSubmitted",J))}},[a]),p.useEffect(()=>{y||((c||u||h)&&E(),n.walletScreen!=="main"&&i("main"))},[y]);function E(){v(!1),g(void 0),o(void 0),f(""),k({title:"",txHash:"",explorerUrl:""})}let q=r.jsx(r.Fragment,{});return P?c||u||h?b.title?q=r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"mb-6",children:b.title}),!!b.explorerUrl&&r.jsx("p",{className:"mb-6",children:r.jsx(I,{variant:"secondary",href:b.explorerUrl,blank:!0,children:"View on explorer"})}),!!b.txHash&&r.jsxs("p",{className:"break-all my-3",children:["Transaction hash: ",b.txHash]}),r.jsx("div",{className:"mt-12",children:r.jsx(I,{onClick:()=>E(),children:"Close"})})]}):q=r.jsx(wr,{tx:c,signMessage:u,contractFunctionData:h,onApprove:async()=>{if(C.current)try{if(d(),C.current.signature)await a?.signMessage({...C.current.signature,authData:{username:n.username}}),E();else if(C.current.plain){const W=await a?.signPlainTransaction({...C.current.plain,authData:{username:n.username}});if(t)E();else if(W){const{signedTxData:H,chainId:J}=W,R=await a?.broadcastTransaction(H,J,C.current.plain.label||"");k({title:"Transaction submitted",explorerUrl:R?.txItem.explorerUrl||"",txHash:R?.txHash||""})}}else if(C.current.contractWrite){const W=await a?.signContractWrite({...C.current.contractWrite,authData:{username:n.username}});if(t)E();else if(W){const{signedTxData:H,chainId:J}=W,R=await a?.broadcastTransaction(H,J,C.current.contractWrite.label||"");k({title:"Transaction submitted",explorerUrl:R?.txItem.explorerUrl||"",txHash:R?.txHash||""})}}}catch(W){d(W)}},onDecline:()=>E()}):q=r.jsx(gr,{}):q=r.jsx(sr,{}),r.jsxs("div",{children:[r.jsx(Tr,{isOpen:y,setIsOpen:v,children:q}),r.jsx(I,{id:"oaw-wallet-widget-btn",onClick:()=>v(!0),children:P?"Open wallet":"Sign in now"})]})}function Tr({children:t,isOpen:n,setIsOpen:a}){return r.jsx(r.Fragment,{children:r.jsx(ne.Transition,{show:n,children:r.jsxs(ne.Dialog,{id:"oaw-wallet-widget",open:n,className:"relative z-50",onClose:()=>a(!1),children:[r.jsx(ne.TransitionChild,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"})}),r.jsx(ne.TransitionChild,{enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:r.jsx("div",{className:"fixed inset-0 w-screen overflow-y-auto p-4",children:r.jsx("div",{className:"flex items-center justify-center min-h-full",children:r.jsxs(ne.DialogPanel,{className:"relative max-w-lg w-full min-h-[600px] bg-dark p-8 sm:py-16 sm:px-12 border border-brightdark text-offwhite",children:[r.jsx("button",{className:"absolute top-2 right-2",onClick:()=>a(!1),children:r.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10.6569L6.34317 5L4.92896 6.41421L10.5858 12.0711L4.92898 17.7279L6.3432 19.1421L12 13.4853L17.6569 19.1421L19.0711 17.7279L13.4143 12.0711L19.0711 6.41421L17.6569 5L12 10.6569Z",fill:"#9C9C95"})})}),t]})})})})]})})})}function Sr(t){return r.jsx(er,{...t,children:r.jsx(ur,{children:r.jsx(jr,{...t})})})}function Er(t,n){if(typeof document>"u"){console.error("Cannot initialize oasis wallet app UI");return}let a=null;t&&(a=document.querySelector(t)),a||(a=document.createElement("div"),a.id="oasis-app-wallet"),document.body.appendChild(a),ie.createRoot(a).render(r.jsx(p.StrictMode,{children:r.jsx(Sr,{...n})}))}exports.initializeApp=Er;
